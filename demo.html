<!doctype html>

<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" href="http://faviconist.com/icons/deb05d00a29ec744569f679f21140ba8/favicon.ico" />
        <title>px-simple-line-chart Demo</title>
        <!-- Requires Webcomponents.js polyfill is provided by the page for browsers that don't support html imports -->
        <script src="../webcomponentsjs/webcomponents-lite.min.js"></script>
        <!-- Import custom element. Note: see comment about relative paths to dependencies in the *.html file referenced below -->
        <link rel="import" href="../iron-ajax/iron-ajax.html"/>
        <link rel="import" href="../px-slider/px-slider.html"/>
        <link rel="import" href="../px-theme/px-theme.html"/>
        <link rel="import" href="px-simple-line-chart.html"/>
        <style>
            body, html {
                padding: 0.5%;
            }
            .control {
                width: 300px; float: left; margin: 10px;
            }
        </style>
    </head>

    <body>

        <template id="just-for-demo" is="dom-bind">

            <div class="control">
                <label>Width:</label>
                <px-slider
                    value="{{width}}"
                    min="200"
                    max="1000">
                </px-slider>
            </div>
            <div class="control">
                <label>Height:</label>
                <px-slider
                    value="{{height}}"
                    min="100"
                    max="550">
                </px-slider>
            </div>
            <div class="control">
                <label>Rows:</label>
                <px-slider
                    value="{{rows}}"
                    min="2"
                    max="50">
                </px-slider>
            </div>
            <div class="control">
                <label>Columns:</label>
                <px-slider
                    value="{{columns}}"
                    min="2"
                    max="50">
                </px-slider>
            </div>

            <br clear="both"/>
            <br />
            <br />

            <px-simple-line-chart
                id="demo-line-chart"
                width="{{width}}"
                height="{{height}}"
                columns="{{columns}}"
                rows="{{rows}}"
                min="0"
                max="1"
                max="auto"
                >&hearts;</px-simple-line-chart>
            <br/><br/><br/>
             <px-simple-line-chart
                id="demo-line-chart2"
                line-data="{{sampleData.series}}"
                width="{{width}}"
                height="{{height}}"
                columns="{{columns}}"
                rows="{{rows}}"
                min="0.5"
                max="1.0"
                >&hearts;</px-simple-line-chart>

            <br/><br/><br/>

            <px-simple-line-chart
                id="demo-line-chart3"
                line-data="{{sampleData.series}}"
                width="{{width}}"
                height="{{height}}"
                threshold="1.70"
                columns="{{columns}}"
                rows="{{rows}}"
                min="1.7"
                max="1.0"
                >&hearts;</px-simple-line-chart>

            <br/><br/><br/>

            <px-simple-line-chart
                id="demo-line-chart4"
                line-data="{{sampleData.series}}"
                width="{{width}}"
                height="{{height}}"
                threshold="0.99"
                min="0.9"
                max="1.1"
                columns="{{columns}}"
                rows="{{rows}}"
                >&hearts;</px-simple-line-chart>

            <br/><br/><br/>

            <px-simple-line-chart
                id="demo-line-chart5"
                line-data="{{sampleData.series}}"
                width="{{width}}"
                height="{{height}}"
                columns="{{columns}}"
                rows="{{rows}}"
                >&hearts;</px-simple-line-chart>

            <iron-ajax
                auto
                url="demo-data/sample-data.json"
                handleAs="json"
                last-response="{{sampleData}}">
            </iron-ajax>

        <script>
            var chart = Polymer.dom(document).querySelector('#demo-line-chart');
            var lineData = [ [(new Date()).getTime(), Math.random()] ];
            //     [1441102460000, 0.59]
                // [1397139660000,1.92],
                // [1397177400000, 1.97],
                // [1397228040000, 1.12],
                // [1397248260000, 1.09],
                // [1397291280000, 1],
                // [1397318100000,1.99],
                // [1397342100000, 1.75],
                // [1397390820000, 1.11],
                // [1397408100000, 1.03],
                // [1397458800000, 1.84],
                // [1397522940000, 1.99],
                // [1397542800000, 0.96],
                // [1397640960000, 0.88],
                // [1397663100000, 0.79],
                // [1397700000000, 0.85],
                // [1397753040000, 1.03],
                // [1397772540000, 0.93]
            // ];
            chart.lineData = lineData;
            setInterval(function() {
                var point = [(new Date()).getTime(), Math.random()]
                console.log('adding point ' + JSON.stringify(point));
                chart.addPoint(point);
                // lineData.push(point);
                // chart.lineData = lineData;
            }, 1000);
        </script>

        </template>
    </body>
</html>
